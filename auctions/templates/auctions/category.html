{% extends "auctions/layout.html" %}

{% block body %}

<h2>Category: {{ category }}</h2>

{% for listing in listings %}
    <div class="card border border-secondary mt-4">
        <div class="card-body">
            {% if listing.image_url %}
            <img src="{{listing.image_url}}" class="img-fluid rounded float-end m-1">
            {% endif %}
            <h5 class="card-title">{{listing.title}}</h5>
            <h6 class="card-subtitle text-white-50 mb-3">{{listing.category}}</h6>
            <div class="card-text mb-3">
                <p>{{listing.description}}</p>
                <strong>Current Price</strong>: {{listing.current_bid}} - {{listing.bid_count}} bid(s)<br>
            </div>
            <div class="mb-2">
                {% if listing.active %}
                <span class="text-success">Active</span>
                {% else %}
                <span class="text-warning">Not Active</span>
                {% endif %}
            </div>
            <a href="{% url 'listing' listing.id %}" class="card-link">View Listing</a>
        </div>
    </div>
{% empty %}
    <div class=" text-center bg-dark">
        <h3 class="text-muted p-5">There aren't any active listings with the specified category.</h3>
    </div>
{% endfor %}

{% endblock %}